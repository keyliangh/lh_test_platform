(function(t){function e(e){for(var n,o,r=e[0],l=e[1],c=e[2],u=0,d=[];u<r.length;u++)o=r[u],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&d.push(s[o][0]),s[o]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);p&&p(e);while(d.length)d.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,o=1;o<a.length;o++){var r=a[o];0!==s[r]&&(n=!1)}n&&(i.splice(e--,1),t=l(l.s=a[0]))}return t}var n={},o={app:0},s={app:0},i=[];function r(t){return l.p+"static/js/"+({404:"404",table:"table"}[t]||t)+"."+{404:"2a70d8af",table:"8a04f65a"}[t]+".js"}function l(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.e=function(t){var e=[],a={404:1,table:1};o[t]?e.push(o[t]):0!==o[t]&&a[t]&&e.push(o[t]=new Promise((function(e,a){for(var n="static/css/"+({404:"404",table:"table"}[t]||t)+"."+{404:"bd901e28",table:"e35cf36b"}[t]+".css",s=l.p+n,i=document.getElementsByTagName("link"),r=0;r<i.length;r++){var c=i[r],u=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(u===n||u===s))return e()}var d=document.getElementsByTagName("style");for(r=0;r<d.length;r++){c=d[r],u=c.getAttribute("data-href");if(u===n||u===s)return e()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=e,p.onerror=function(e){var n=e&&e.target&&e.target.src||s,i=new Error("Loading CSS chunk "+t+" failed.\n("+n+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=n,delete o[t],p.parentNode.removeChild(p),a(i)},p.href=s;var m=document.getElementsByTagName("head")[0];m.appendChild(p)})).then((function(){o[t]=0})));var n=s[t];if(0!==n)if(n)e.push(n[2]);else{var i=new Promise((function(e,a){n=s[t]=[e,a]}));e.push(n[2]=i);var c,u=document.createElement("script");u.charset="utf-8",u.timeout=120,l.nc&&u.setAttribute("nonce",l.nc),u.src=r(t);var d=new Error;c=function(e){u.onerror=u.onload=null,clearTimeout(p);var a=s[t];if(0!==a){if(a){var n=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+n+": "+o+")",d.name="ChunkLoadError",d.type=n,d.request=o,a[1](d)}s[t]=void 0}};var p=setTimeout((function(){c({type:"timeout",target:u})}),12e4);u.onerror=u.onload=c,document.head.appendChild(u)}return Promise.all(e)},l.m=t,l.c=n,l.d=function(t,e,a){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)l.d(a,n,function(e){return t[e]}.bind(null,n));return a},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/",l.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=e,c=c.slice();for(var d=0;d<c.length;d++)e(c[d]);var p=u;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"00c8":function(t,e,a){"use strict";var n=a("37e1"),o=a.n(n);o.a},"1ac7":function(t,e,a){"use strict";var n=a("33f7"),o=a.n(n);o.a},2087:function(t,e,a){},"2b35":function(t,e,a){},"2ca1":function(t,e,a){"use strict";var n=a("5167"),o=a.n(n);o.a},"33f7":function(t,e,a){},"342d2":function(t,e,a){"use strict";var n=a("f066"),o=a.n(n);o.a},"37e1":function(t,e,a){},3968:function(t,e,a){},"4a80":function(t,e,a){},"4d61":function(t,e,a){"use strict";var n=a("9416"),o=a.n(n);o.a},"501e":function(t,e,a){},5167:function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("4de4"),a("4160"),a("b64b"),a("159b"),a("0fae");var n,o=a("9e2f"),s=a.n(o),i=(a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("2b0e")),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},l=[],c={name:"App",components:{}},u=c,d=(a("5c0b"),a("2877")),p=Object(d["a"])(u,r,l,!1,null,null,null),m=p.exports,f=(a("d3b7"),a("d4ec")),h=a("bee2"),g=a("bc3a"),v=a.n(g),b="USER_KEY",_="JWT_TOKEN_KEY",y=function(){function t(){Object(f["a"])(this,t),this.token=null,this.user=null,this.token=localStorage.getItem(_);var e=localStorage.getItem(b);e&&"undefined"!=e&&(this.user=JSON.parse(e))}return Object(h["a"])(t,[{key:"setUserToken",value:function(t,e){this.user=t,this.token=e,localStorage.setItem(b,JSON.stringify(t)),localStorage.setItem(_,e)}},{key:"setUser",value:function(t){this.user=t,localStorage.setItem(b,JSON.stringify(t))}},{key:"clearUserToken",value:function(){this.user=null,this.token=null,localStorage.removeItem(b),localStorage.removeItem(_)}},{key:"is_authed",get:function(){return!(!this.user||!this.token)}}],[{key:"getInstance",value:function(){return this._instance||(this._instance=new t),this._instance}}]),t}(),k=y.getInstance(),j="http://182.92.84.4:8000",x=function(){function t(){Object(f["a"])(this,t),this.http=v.a.create({baseURL:j}),this.http.interceptors.request.use((function(t){var e=k.token;return e&&"undefined"!=e&&(t.headers.common.Authorization="JWT "+e),t})),this.http.interceptors.response.use(null,(function(t){return t&&t.response&&403==t.response.status&&k.clearUserToken(),Promise.reject(t)}))}return Object(h["a"])(t,[{key:"login",value:function(t){var e="/auth/login";return this.http.post(e,t)}},{key:"addProject",value:function(t){var e="/project";return this.http.post(e,t)}},{key:"getProjectList",value:function(){var t="/project";return this.http.get(t)}},{key:"delProject",value:function(t){var e="/project/"+t;return this.http.delete(e)}},{key:"getHostList",value:function(){var t="/host";return this.http.get(t)}},{key:"delHost",value:function(t){var e="/host/"+t;return this.http.delete(e)}},{key:"editProject",value:function(t,e){var a="/project/"+t;return this.http.put(a,e)}},{key:"getProjectDetail",value:function(t){var e="/project/"+t;return this.http.get(e)}},{key:"addHost",value:function(t){var e="/host";return this.http.post(e,t)}},{key:"editHost",value:function(t,e){var a="/host/"+t;return this.http.put(a,e)}},{key:"addApi",value:function(t){var e="/api";return this.http.post(e,t)}},{key:"deleteApi",value:function(t){var e="/api/"+t;return this.http.delete(e)}},{key:"editApi",value:function(t,e){var a="/api/"+t;return this.http.put(a,e)}},{key:"runApi",value:function(t){var e="/run/api/"+t;return this.http.post(e)}},{key:"addCase",value:function(t){var e="/case";return this.http.post(e,t)}},{key:"editCase",value:function(t,e){var a="/case/"+t;return this.http.put(a,e)}},{key:"runCase",value:function(t){var e="/run/case/"+t;return this.http.post(e)}},{key:"deleteCase",value:function(t){var e="/case/"+t;return this.http.delete(e)}},{key:"getRunRecords",value:function(t,e){var a="/record?project="+t+"&type="+e;return this.http.get(a)}},{key:"editUser",value:function(t){var e="/auth/user";return this.http.put(e,t)}},{key:"getUserList",value:function(){var t="/auth/user";return this.http.get(t)}}]),t}(),w=new x,C=(a("b0c0"),a("8c4f")),$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper"},[a("v-head"),a("v-sidebar"),a("div",{staticClass:"content-box",class:{"content-collapse":t.collapse}},[a("v-tags"),a("div",{staticClass:"content"},[a("transition",{attrs:{name:"move",mode:"out-in"}},[a("keep-alive",{attrs:{include:t.tagsList}},[a("router-view")],1)],1),a("el-backtop",{attrs:{target:".content"}})],1)],1)],1)},S=[],A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header"},[a("div",{staticClass:"collapse-btn",on:{click:t.collapseChage}},[t.collapse?a("i",{staticClass:"el-icon-s-unfold"}):a("i",{staticClass:"el-icon-s-fold"})]),a("div",{staticClass:"logo",staticStyle:{"font-size":"22px"}},[t._v("自动化测试平台")]),a("div",{staticClass:"header-right"},[a("div",{staticClass:"header-user-con"},[a("div",{staticClass:"btn-my",staticStyle:{padding:"10px"}},[a("el-tooltip",{attrs:{effect:"dark",content:"作者博客",placement:"bottom"}},[a("el-link",{attrs:{type:"primary",href:"https://blog.csdn.net/weixin_41676880"}},[a("i",{staticStyle:{"font-size":"25px",color:"red"}},[t._v("C")])])],1)],1),a("div",{staticClass:"btn-fullscreen",on:{click:t.handleFullScreen}},[a("el-tooltip",{attrs:{effect:"dark",content:t.fullscreen?"取消全屏":"全屏",placement:"bottom"}},[a("div",{staticClass:"el-icon-rank",staticStyle:{"font-size":"25px"}})])],1),a("div",{staticClass:"btn-bell"},[a("el-tooltip",{attrs:{effect:"dark",content:t.message?"有"+t.message+"条未读消息":"消息中心",placement:"bottom"}},[a("router-link",{attrs:{to:"/tabs"}},[a("i",{staticClass:"el-icon-bell",staticStyle:{"font-size":"20px",padding:"3px 8px"}})])],1),t.message?a("span",{staticClass:"btn-bell-badge"}):t._e()],1),a("div",{staticClass:"user-avator"},[a("img",{staticClass:"avatar-img",attrs:{src:t.$auth.user.avatar||"../../assets/img.jpg"}})]),a("el-dropdown",{staticClass:"user-name",attrs:{trigger:"click"},on:{command:t.handleCommand}},[a("span",{staticClass:"el-dropdown-link"},[t._v(" "+t._s(t.$auth.user.username)+" "),a("i",{staticClass:"el-icon-caret-bottom"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("router-link",{attrs:{to:"/settings"}},[a("el-dropdown-item",[t._v("个人中心")])],1),a("el-dropdown-item",{nativeOn:{click:function(e){return t.onLogout(e)}}},[t._v("退出登录")])],1)],1)],1)])])},O=[],E=(a("ac1f"),a("5319"),new i["default"]),P=E,F={data:function(){return{collapse:!1,fullscreen:!1,name:"linxin",message:2}},computed:{username:function(){var t=localStorage.getItem("ms_username");return t||this.name}},methods:{handleCommand:function(t){"loginout"==t&&(localStorage.removeItem("ms_username"),this.$router.push("/login"))},collapseChage:function(){this.collapse=!this.collapse,P.$emit("collapse",this.collapse)},handleFullScreen:function(){var t=document.documentElement;this.fullscreen?document.exitFullscreen?document.exitFullscreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen():t.requestFullscreen?t.requestFullscreen():t.webkitRequestFullScreen?t.webkitRequestFullScreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.msRequestFullscreen&&t.msRequestFullscreen(),this.fullscreen=!this.fullscreen},onLogout:function(){this.$auth.clearUserToken(),this.$router.replace("/login")}},mounted:function(){document.body.clientWidth<1500&&this.collapseChage()}},L=F,T=(a("2ca1"),Object(d["a"])(L,A,O,!1,null,"5ab1e658",null)),D=T.exports,z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sidebar"},[a("el-menu",{staticClass:"sidebar-el-menu",attrs:{"default-active":t.onRoutes,collapse:t.collapse,"background-color":"#324157","text-color":"#bfcbd9","active-text-color":"#20a0ff","unique-opened":"",router:""}},[t._l(t.items,(function(e){return[e.subs?[a("el-submenu",{key:e.index,attrs:{index:e.index}},[a("template",{slot:"title"},[a("i",{class:e.icon}),a("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.title))])]),t._l(e.subs,(function(e){return[e.subs?a("el-submenu",{key:e.index,attrs:{index:e.index}},[a("template",{slot:"title"},[t._v(t._s(e.title))]),t._l(e.subs,(function(e,n){return a("el-menu-item",{key:n,attrs:{index:e.index}},[t._v(t._s(e.title))])}))],2):a("el-menu-item",{key:e.index,attrs:{index:e.index}},[t._v(t._s(e.title))])]}))],2)]:[a("el-menu-item",{key:e.index,attrs:{index:e.index}},[a("i",{class:e.icon}),a("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.title))])])]]}))],2)],1)},I=[],R={data:function(){return{collapse:!1,items:[{icon:"el-icon-lx-home",index:"index",title:"系统首页"},{icon:"el-icon-takeaway-box",index:"project",title:"项目列表"},{icon:"el-icon-data-analysis",index:"members",title:"成员管理"},{icon:"el-icon-cold-drink",index:"/donate",title:"关于作者"}]}},computed:{onRoutes:function(){return this.$route.path.replace("/","")}},created:function(){var t=this;P.$on("collapse",(function(e){t.collapse=e,P.$emit("collapse-content",e)}))}},N=R,q=(a("e485"),Object(d["a"])(N,z,I,!1,null,"1d2b7399",null)),H=q.exports,B=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.showTags?a("div",{staticClass:"tags"},[a("ul",t._l(t.tagsList,(function(e,n){return a("li",{key:n,staticClass:"tags-li",class:{active:t.isActive(e.path)}},[a("router-link",{staticClass:"tags-li-title",attrs:{to:e.path}},[t._v(" "+t._s(e.title)+" ")]),a("span",{staticClass:"tags-li-icon",on:{click:function(e){return t.closeTags(n)}}},[a("i",{staticClass:"el-icon-close"})])],1)})),0),a("div",{staticClass:"tags-close-box"},[a("el-dropdown",{on:{command:t.handleTags}},[a("el-button",{attrs:{size:"mini",type:"primary"}},[t._v(" 标签选项"),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown",size:"small"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"other"}},[t._v("关闭其他")]),a("el-dropdown-item",{attrs:{command:"all"}},[t._v("关闭所有")])],1)],1)],1)]):t._e()},U=[],V=(a("45fc"),a("a434"),{data:function(){return{tagsList:[]}},methods:{isActive:function(t){return t===this.$route.fullPath},closeTags:function(t){var e=this.tagsList.splice(t,1)[0],a=this.tagsList[t]?this.tagsList[t]:this.tagsList[t-1];a?e.path===this.$route.fullPath&&this.$router.push(a.path):this.$router.push("/")},closeAll:function(){this.tagsList=[],this.$router.push("/")},closeOther:function(){var t=this,e=this.tagsList.filter((function(e){return e.path===t.$route.fullPath}));this.tagsList=e},setTags:function(t){var e=this.tagsList.some((function(e){return e.path===t.fullPath}));e||(this.tagsList.length>=8&&this.tagsList.shift(),this.tagsList.push({title:t.meta.title,path:t.fullPath,name:t.matched[1].components.default.name})),P.$emit("tags",this.tagsList)},handleTags:function(t){"other"===t?this.closeOther():this.closeAll()}},computed:{showTags:function(){return this.tagsList.length>0}},watch:{$route:function(t,e){this.setTags(t)}},created:function(){var t=this;this.setTags(this.$route),P.$on("close_current_tags",(function(){for(var e=0,a=t.tagsList.length;e<a;e++){var n=t.tagsList[e];if(n.path===t.$route.fullPath){e<a-1?t.$router.push(t.tagsList[e+1].path):e>0?t.$router.push(t.tagsList[e-1].path):t.$router.push("/"),t.tagsList.splice(e,1);break}}}))}}),J=V,M=(a("c5f3"),Object(d["a"])(J,B,U,!1,null,null,null)),G=M.exports,W={data:function(){return{tagsList:[],collapse:!1}},components:{vHead:D,vSidebar:H,vTags:G},created:function(){var t=this;P.$on("collapse-content",(function(e){t.collapse=e})),P.$on("tags",(function(e){for(var a=[],n=0,o=e.length;n<o;n++)e[n].name&&a.push(e[n].name);t.tagsList=a}))}},K=W,Y=Object(d["a"])(K,$,S,!1,null,null,null),Q=Y.exports,X=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login-wrap"},[a("vue-particles",{staticClass:"lizi",attrs:{color:"#fff",particleOpacity:.7,particlesNumber:60,shapeType:"circle",particleSize:4,linesColor:"#fff",linesWidth:1,lineLinked:!0,lineOpacity:.4,linesDistance:150,moveSpeed:2,hoverEffect:!0,hoverMode:"grab",clickEffect:!0,clickMode:"push"}}),a("div",{staticClass:"ms-login"},[a("div",{staticClass:"ms-title"},[t._v("自动化测试平台")]),a("el-form",{ref:"loginForm",staticClass:"ms-content",attrs:{model:t.loginForm,rules:t.rules,"label-width":"0px"}},[a("el-form-item",{attrs:{prop:"username"}},[a("el-input",{attrs:{placeholder:"username"},model:{value:t.loginForm.username,callback:function(e){t.$set(t.loginForm,"username",e)},expression:"loginForm.username"}},[a("el-button",{attrs:{slot:"prepend",icon:"el-icon-user"},slot:"prepend"})],1)],1),a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{attrs:{type:"password",placeholder:"password"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onSubmit(e)}},model:{value:t.loginForm.password,callback:function(e){t.$set(t.loginForm,"password",e)},expression:"loginForm.password"}},[a("el-button",{attrs:{slot:"prepend",icon:"el-icon-key"},slot:"prepend"})],1)],1),a("div",{staticClass:"login-btn"},[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("登录")])],1),a("p",{staticClass:"login-tips"},[t._v("Tips : 未注册用户请联系管理员添加")])],1)],1)],1)},Z=[],tt=(a("466d"),{data:function(){var t=function(t,e,a){e.match(/^1[0-9]{10}$/)?a():a(new Error("请输入正确的手机号码！"))};return{loginForm:{username:"",password:""},rules:{username:[{required:!0,message:"请输入手机号码！",trigger:"blur"},{validator:t,trigger:"blur"}],password:[{required:!0,message:"请输入密码！",trigger:"blur"},{min:6,max:20,message:"密码长度应该在6～20之间！",trigger:"blur"}]}}},methods:{onSubmit:function(){var t=this;this.$refs["loginForm"].validate((function(e){e&&t.$http.login(t.loginForm).then((function(e){if(e&&e.data.token){var a=e.data,n=a.token,o=a.user;t.$auth.setUserToken(o,n),t.$router.push("/"),t.$message.success("恭喜！登录成功!")}else t.$message.info("用户名或密码错误!")}))}))}}}),et=tt,at=(a("a034"),Object(d["a"])(et,X,Z,!1,null,"5b72d0e4",null)),nt=at.exports,ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-card",{staticClass:"mgb20",staticStyle:{height:"252px"},attrs:{shadow:"hover"}},[a("div",{staticClass:"user-info"},[a("img",{staticClass:"user-avator",attrs:{src:t.$auth.user.avatar||"../../assets/img.jpg",alt:""}}),a("div",{staticClass:"user-info-cont"},[a("div",{staticClass:"user-info-name"},[t._v(t._s(t.$auth.user.username))]),a("div",[t._v(t._s(t.role))])])]),a("div",{staticClass:"user-info-list"},[t._v(" 电话： "),a("span",[t._v(t._s(t.$auth.user.telephone))])]),a("div",{staticClass:"user-info-list"},[t._v(" 邮箱： "),a("span",[t._v(t._s(t.$auth.user.email))])])]),a("el-card",{staticStyle:{height:"252px"},attrs:{shadow:"hover"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("接口用例成功率")])]),t._v("运行成功 "),a("el-progress",{attrs:{percentage:71.3,color:"#42b983"}}),t._v("运行中 "),a("el-progress",{attrs:{percentage:24.1,color:"#f1e05a"}}),t._v("关闭任务 "),a("el-progress",{attrs:{percentage:13.7}}),t._v("运行失败 "),a("el-progress",{attrs:{percentage:5.9,color:"#f56c6c"}})],1)],1),a("el-col",{attrs:{span:16}},[a("el-row",{staticClass:"mgb20",attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-card",{attrs:{shadow:"hover","body-style":{padding:"0px"}}},[a("div",{staticClass:"grid-content grid-con-1"},[a("i",{staticClass:"el-icon-lx-people grid-con-icon"}),a("div",{staticClass:"grid-cont-right"},[a("div",{staticClass:"grid-num"},[t._v("1234")]),a("div",[t._v("节省人力")])])])])],1),a("el-col",{attrs:{span:8}},[a("el-card",{attrs:{shadow:"hover","body-style":{padding:"0px"}}},[a("div",{staticClass:"grid-content grid-con-2"},[a("i",{staticClass:"el-icon-lx-notice grid-con-icon"}),a("div",{staticClass:"grid-cont-right"},[a("div",{staticClass:"grid-num"},[t._v("321")]),a("div",[t._v("接口数量")])])])])],1),a("el-col",{attrs:{span:8}},[a("el-card",{attrs:{shadow:"hover","body-style":{padding:"0px"}}},[a("div",{staticClass:"grid-content grid-con-3"},[a("i",{staticClass:"el-icon-lx-goods grid-con-icon"}),a("div",{staticClass:"grid-cont-right"},[a("div",{staticClass:"grid-num"},[t._v("666")]),a("div",[t._v("用例数量")])])])])],1)],1),a("el-card",{staticStyle:{height:"403px"},attrs:{shadow:"hover"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("待办事项")]),a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"}},[t._v("添加")])],1),a("el-table",{staticStyle:{width:"100%"},attrs:{"show-header":!1,data:t.todoList}},[a("el-table-column",{attrs:{width:"40"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-checkbox",{model:{value:e.row.status,callback:function(a){t.$set(e.row,"status",a)},expression:"scope.row.status"}})]}}])}),a("el-table-column",{scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"todo-item",class:{"todo-item-del":e.row.status}},[t._v(t._s(e.row.title))])]}}])}),a("el-table-column",{attrs:{width:"60"}},[[a("i",{staticClass:"el-icon-edit"}),a("i",{staticClass:"el-icon-delete"})]],2)],1)],1)],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-card",{attrs:{shadow:"hover"}},[a("schart",{ref:"bar",staticClass:"schart",attrs:{canvasId:"bar",options:t.options}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-card",{attrs:{shadow:"hover"}},[a("schart",{ref:"line",staticClass:"schart",attrs:{canvasId:"line",options:t.options2}})],1)],1)],1)],1)},st=[],it=(a("99af"),a("f5ac")),rt={name:"Index",data:function(){return{name:localStorage.getItem("ms_username"),todoList:[{title:"今天要修复100个bug",status:!1},{title:"今天要修复100个bug",status:!1},{title:"今天要写100行代码加几个bug吧",status:!1},{title:"今天要修复100个bug",status:!1},{title:"今天要修复100个bug",status:!0},{title:"今天要写100行代码加几个bug吧",status:!0}],data:[{name:"2018/09/04",value:1083},{name:"2018/09/05",value:941},{name:"2018/09/06",value:1139},{name:"2018/09/07",value:816},{name:"2018/09/08",value:327},{name:"2018/09/09",value:228},{name:"2018/09/10",value:1065}],options:{type:"bar",title:{text:"最近一周接口用例运行情况"},xRorate:25,labels:["周一","周二","周三","周四","周五"],datasets:[{label:"成功",data:[234,278,270,190,230]},{label:"失败",data:[164,178,190,135,160]},{label:"运行错误",data:[144,198,150,235,120]}]},options2:{type:"line",title:{text:"最近几个月用例运行情况"},labels:["6月","7月","8月","9月","10月"],datasets:[{label:"成功",data:[234,278,270,190,230]},{label:"失败",data:[164,178,150,135,160]},{label:"运行错误",data:[74,118,200,235,90]}]}}},components:{Schart:it["a"]},computed:{role:function(){return"admin"===this.name?"超级管理员":"普通用户"}},methods:{changeDate:function(){var t=(new Date).getTime();this.data.forEach((function(e,a){var n=new Date(t-864e5*(6-a));e.name="".concat(n.getFullYear(),"/").concat(n.getMonth()+1,"/").concat(n.getDate())}))}}},lt=rt,ct=(a("bbfa"),Object(d["a"])(lt,ot,st,!1,null,"10fd8022",null)),ut=ct.exports,dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("div",{staticClass:"top-group"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"}},[t._v("搜索")]),a("el-button",{attrs:{type:"primary",icon:"el-ico-plus"},on:{click:t.onAddProjectButtonClick}},[t._v("新增项目")])],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.projects.slice((t.currentPage-1)*t.pagesize,t.currentPage*t.pagesize)}},[a("el-table-column",{attrs:{prop:"name",label:"项目名称",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-popover",{attrs:{placement:"top-start",width:"200",trigger:"hover"}},[t._t("default",[t._v(t._s(e.row.name))]),a("el-button",{attrs:{slot:"reference",type:"text"},slot:"reference"},[t._v(t._s(t._f("ellipsis")(e.row.name)))])],2)]}}],null,!0)}),a("el-table-column",{attrs:{prop:"type",label:"类型",width:"100"}}),a("el-table-column",{attrs:{prop:"description",label:"描述"}}),a("el-table-column",{attrs:{label:"最后修改时间",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t._f("dateFormat")(e.row.last_update_time))+" ")]}}])}),a("el-table-column",{attrs:{label:"状态",width:"100"}},[[a("el-tag",{attrs:{type:"success"}},[t._v("可用")])]],2),[a("el-tag",{attrs:{type:"success"}},[t._v("可用")])],a("el-table-column",{attrs:{label:"操作",width:"300"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("router-link",{attrs:{to:"project/"+e.row.id}},[a("el-button",{staticStyle:{"margin-left":"10px","margin-right":"10px"},attrs:{type:"success",size:"mini"}},[t._v("进入项目")])],1),a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.onEditProject(e.row)}}},[t._v("编辑")]),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){return t.deleteEditProject(e.$index)}}},[t._v("删除")])]}}])})],2),a("el-dialog",{attrs:{title:"新建项目",visible:t.addDialogVisiable},on:{"update:visible":function(e){t.addDialogVisiable=e}}},[a("el-form",{ref:"projectForm",attrs:{model:t.projectForm,"label-width":"80px",rules:t.projectRules}},[a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.projectForm.name,callback:function(e){t.$set(t.projectForm,"name",e)},expression:"projectForm.name"}})],1),a("el-form-item",{attrs:{label:"类型",prop:"type"}},[a("el-select",{attrs:{placeholder:"请选择类型"},model:{value:t.projectForm.type,callback:function(e){t.$set(t.projectForm,"type",e)},expression:"projectForm.type"}},[a("el-option",{attrs:{label:"Web",value:"web"}}),a("el-option",{attrs:{label:"App",value:"app"}})],1)],1),a("el-form-item",{attrs:{label:"描述",prop:"description"}},[a("el-input",{attrs:{type:"textarea",autocomplete:"off"},model:{value:t.projectForm.description,callback:function(e){t.$set(t.projectForm,"description",e)},expression:"projectForm.description"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.addDialogVisiable=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary",loading:t.addProjectButtonLoading},on:{click:t.onSubmitAddProject}},[t._v("确 定")])],1)],1),a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[5,10,20,40],"page-size":t.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:t.projects.length},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)},pt=[],mt=(a("a4d3"),a("e01a"),a("fb6a"),a("b85c")),ft={name:"ProjectList",filters:{ellipsis:function(t){return t?t.length>8?t.slice(0,8)+"...":t:""}},data:function(){return{currentPage:1,pagesize:10,projects:[],addDialogVisiable:!1,addProjectButtonLoading:!1,delEditProject:!1,dialogType:"add",projectForm:{name:"",type:"",description:""},projectRules:{name:[{required:!0,message:"请输入项目名称！",trigger:"blur"}],type:[{required:!0,message:"请选择项目类型！",trigger:"blur"}]}}},components:{},created:function(){this.handleUserList()},methods:{handleSizeChange:function(t){this.pagesize=t,console.log(this.pagesize)},handleCurrentChange:function(t){this.currentPage=t,console.log(this.currentPage)},handleUserList:function(){var t=this;this.$http.getProjectList().then((function(e){var a=e.data;t.projects=a}))},initProjectForm:function(){this.projectForm={name:"",type:"",description:""}},onAddProjectButtonClick:function(){this.initProjectForm(),this.dialogType="add",this.addDialogVisiable=!0},onEditProject:function(t){this.initProjectForm(),this.projectForm={name:t.name,type:t.type,description:t.description,id:t.id},this.addDialogVisiable=!0,this.dialogType="edit"},close:function(t){this.$refs[t].resetFields()},deleteEditProject:function(t){var e=this;this.$confirm("此操作将永久删除该项目, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var a=e.projects[t].id;e.$http.delProject(a).then((function(a){a&&204==a.status&&(e.projects.splice(t,1),e.$message.success("恭喜！项目删除成功！"))}))})).catch((function(){e.$message.info("已取消删除")}))},onSubmitAddProject:function(){var t=this;this.$refs["projectForm"].validate((function(e){e&&(t.addProjectButtonLoading=!0,"add"==t.dialogType?t.$http.addProject(t.projectForm).then((function(e){if(t.addProjectButtonLoading=!1,e&&201==e.status){console.log(e);var a=e.data;console.log(a),t.projects.push(a),t.addDialogVisiable=!1,t.initProjectForm(),t.$message.success("恭喜！项目创建成功！")}})):t.$http.editProject(t.projectForm.id,t.projectForm).then((function(e){if(t.addProjectButtonLoading=!1,e){t.addDialogVisiable=!1,t.initProjectForm(),t.$message.success("修改成功");var a,n=e.data,o=0,s=Object(mt["a"])(t.projects);try{for(s.s();!(a=s.n()).done;){var r=a.value;if(r.id==n.id){i["default"].set(t.projects,o,n);break}o++}}catch(l){s.e(l)}finally{s.f()}}})))}))}}},ht=ft,gt=(a("1ac7"),Object(d["a"])(ht,dt,pt,!1,null,"44f32efa",null)),vt=gt.exports,bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("el-tabs",{model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"项目介绍",name:"1"}},[a("ProjectInfo",{attrs:{project:t.project}})],1),a("el-tab-pane",{attrs:{label:"项目地址",name:"2"}},[a("HostList",{attrs:{project:t.project}})],1),a("el-tab-pane",{attrs:{label:"API接口",name:"3"}},[a("ApiEntry",{attrs:{project:t.project}})],1),a("el-tab-pane",{attrs:{label:"测试用例",name:"4"}},[a("CaseEntry",{attrs:{project:t.project}})],1),a("el-tab-pane",{attrs:{label:"定时任务",name:"5"}},[t._v(" 定时任务---🚧施工中，之后版本会陆续更新 ")]),a("el-tab-pane",{attrs:{label:"运行记录",name:"6"}},[a("RecordList",{attrs:{project:t.project}})],1)],1)],1)},_t=[],yt=a("ade3"),kt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{},[n("el-steps",{staticStyle:{padding:"40px"},attrs:{active:2,"align-center":""}},[n("el-step",{attrs:{title:"新建项目地址",description:""}}),n("el-step",{attrs:{title:"新建接口数据",description:""}}),n("el-step",{attrs:{title:"整理接口用例",description:""}}),n("el-step",{attrs:{title:"设置定时任务",description:""}}),n("el-step",{attrs:{title:"查看运行记录",description:""}})],1),n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:8}},[n("el-card",{staticClass:"mgb20",staticStyle:{height:"270px"},attrs:{shadow:"hover"}},[n("div",{staticClass:"user-info"},[n("img",{staticClass:"user-avator",attrs:{src:a("9a37"),alt:""}}),n("div",{staticClass:"user-info-cont"},[n("div",{staticClass:"user-info-name"},[t._v(t._s(t.project.name))]),n("div",[t._v("类型："+t._s(t.project.type))])])]),n("div",{staticClass:"user-info-list"},[t._v(" 项目创建时间： "),n("span",[t._v(t._s(t._f("dateFormat")(t.project.create_time)))])]),n("div",{staticClass:"user-info-list"},[t._v(" 最后操作时间： "),n("span",[t._v(t._s(t._f("dateFormat")(t.project.last_update_time)))])]),n("div",{staticClass:"user-info-list"},[t._v(" 项目创建人员： "),n("span",[t._v(t._s(t.project.user?t.project.user.username:""))])])])],1),n("el-col",{attrs:{span:16}},[n("el-card",{staticStyle:{height:"270px"},attrs:{shadow:"hover"}},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("span",[t._v("项目信息介绍")])]),n("div",{staticClass:"grid-num"},[t._v(t._s(t.project.description))])])],1)],1)],1)},jt=[],xt={name:"ProjectInfo",props:["project"],data:function(){return{}},components:{}},wt=xt,Ct=(a("4d61"),Object(d["a"])(wt,kt,jt,!1,null,"332950ee",null)),$t=Ct.exports,St=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("div",{staticClass:"top-group"},[a("el-button",{attrs:{type:"primary",icon:"el-ico-plus"},on:{click:t.onAddProjectButtonClick}},[t._v("新增host")])],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.project.host_list}},[a("el-table-column",{attrs:{prop:"name",label:"名称"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-popover",{attrs:{placement:"top-start",width:"200",trigger:"hover"}},[t._t("default",[t._v(t._s(e.row.name))]),a("el-button",{attrs:{slot:"reference",type:"text"},slot:"reference"},[t._v(t._s(t._f("ellipsis")(e.row.name)))])],2)]}}],null,!0)}),a("el-table-column",{attrs:{prop:"host",label:"Host"}}),a("el-table-column",{attrs:{prop:"description",label:"描述"}}),a("el-table-column",{attrs:{label:"操作",width:"300"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.onEditProject(e.row)}}},[t._v("编辑")]),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){return t.deleteEditProject(e.row.id,e.$index)}}},[t._v("删除 ")])]}}])})],1),a("el-dialog",{attrs:{title:"新增host",visible:t.hostDialogVisible},on:{"update:visible":function(e){t.hostDialogVisible=e}}},[a("el-form",{ref:"hostForm",attrs:{model:t.hostForm,"label-width":"80px",rules:t.hostRules}},[a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.hostForm.name,callback:function(e){t.$set(t.hostForm,"name",e)},expression:"hostForm.name"}})],1),a("el-form-item",{attrs:{label:"host",prop:"host"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.hostForm.host,callback:function(e){t.$set(t.hostForm,"host",e)},expression:"hostForm.host"}})],1),a("el-form-item",{attrs:{label:"描述",prop:"description"}},[a("el-input",{attrs:{type:"textarea",autocomplete:"off"},model:{value:t.hostForm.description,callback:function(e){t.$set(t.hostForm,"description",e)},expression:"hostForm.description"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.hostDialogVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmitAddHost}},[t._v("确 定")])],1)],1)],1)},At=[],Ot={name:"HostList",props:["project"],filters:{ellipsis:function(t){return t?t.length>8?t.slice(0,8)+"...":t:""}},data:function(){return{host_list:[],hostDialogVisible:!1,hostForm:{id:"",name:"",host:"",description:""},hostRules:{name:[{required:!0,message:"请输入host名称！",trigger:"blur"}],host:[{required:!0,message:"请输入host！",trigger:"blur"}]}}},components:{},mounted:function(){var t=this;this.$http.getHostList().then((function(e){var a=e.data;t.host_list=a}))},methods:{initHostForm:function(){this.hostForm={name:"",host:"",description:""}},onAddProjectButtonClick:function(){this.initHostForm(),this.dialogType="add",this.hostDialogVisible=!0},onEditProject:function(t){this.initHostForm(),this.hostForm={id:t.id,name:t.name,host:t.host,description:t.description},this.hostDialogVisible=!0,this.dialogType="edit"},onSubmitAddHost:function(){var t=this;this.$refs["hostForm"].validate((function(e){if(e){var a=JSON.parse(JSON.stringify(t.hostForm));a.project_id=t.project.id,"add"==t.dialogType?t.$http.addHost(a).then((function(e){var a=e.data;t.hostDialogVisible=!1,t.initHostForm(),t.project.host_list.push(a),t.$message.success("恭喜！地址创建成功！")})):t.$http.editHost(t.hostForm.id,a).then((function(e){if(e){t.hostDialogVisible=!1,t.initHostForm(),t.$message.success("修改成功");var a,n=e.data,o=0,s=Object(mt["a"])(t.project.host_list);try{for(s.s();!(a=s.n()).done;){var r=a.value;if(r.id==n.id){i["default"].set(t.project.host_list,o,n);break}o++}}catch(l){s.e(l)}finally{s.f()}}}))}}))},deleteEditProject:function(t,e){var a=this;this.$confirm("此操作将永久删除该项目, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){a.$http.delHost(t).then((function(t){a.$loading.show(),t&&204==t.status&&(a.project.host_list.splice(e,1),a.$loading.hide(),a.$message.success("恭喜！项目删除成功！"))}))})).catch((function(){a.$message.info("已取消删除")}))}}},Et=Ot,Pt=(a("c9c5"),Object(d["a"])(Et,St,At,!1,null,"575b653a",null)),Ft=Pt.exports,Lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[t.page==t.pagetype.API_LIST?a("ApiList",{attrs:{project:t.project},on:{"page-changed":t.onPageChanged}}):t._e(),t.page==t.pagetype.ADD_API?a("AddApi",{attrs:{project:t.project,api:t.api},on:{"page-changed":t.onPageChanged}}):t._e()],1)},Tt=[],Dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("div",{staticClass:"top-group"},[a("el-button",{attrs:{type:"primary",icon:"el-ico-plus"},on:{click:t.onGotoAddApi}},[t._v("新增API")])],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.project.api_list}},[a("el-table-column",{attrs:{prop:"name",label:"名称"}}),a("el-table-column",{attrs:{label:"Host"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.host.host)+" ")]}}])}),a("el-table-column",{attrs:{prop:"description",label:"描述"}}),a("el-table-column",{attrs:{label:"操作",width:"300"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return t.onRunApi(e.row,e.$index)}}},[t._v("运行")]),a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.onEditApi(e.row,e.$index)}}},[t._v("编辑")]),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){return t.onDeleteApi(e.row,e.$index)}}},[t._v("删除")])]}}])})],1),a("el-dialog",{attrs:{title:"运行结果",visible:t.dialogVisible,width:"80%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-table",{attrs:{data:[t.record],height:"250"}},[a("el-table-column",{attrs:{fixed:"",property:"url",label:"url",width:"150"}}),a("el-table-column",{attrs:{property:"http_method",label:"请求方法",width:"100"}}),a("el-table-column",{attrs:{property:"headers",label:"请求头"}}),a("el-table-column",{attrs:{property:"data",label:"请求体"}}),a("el-table-column",{attrs:{property:"return_content",label:"响应体"}}),a("el-table-column",{attrs:{property:"run_result",label:"测试结果",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.run_result?a("el-tag",{attrs:{type:"success"}},[t._v("成功")]):t._e(),0==e.row.run_result?a("el-tag",{attrs:{type:"danger"}},[t._v("失败")]):t._e()]}}])})],1)],1)],1)},zt=[],It={API_LIST:1,ADD_API:2},Rt=It,Nt={name:"ApiList",props:["project"],data:function(){return{dialogVisible:!1,record:{}}},components:{},methods:{onGotoAddApi:function(){this.$emit("page-changed",Rt.ADD_API)},onRunApi:function(t,e){var a=this;this.$loading.show(),this.$http.runApi(t.id).then((function(t){a.$loading.hide();var e=t.data;e.return_code==e.api.expect_code?e.run_result=!0:e.run_result=!1,a.record=e,a.dialogVisible=!0}))},onEditApi:function(t,e){this.$emit("page-changed",Rt.ADD_API,t)},onDeleteApi:function(t,e){var a=this;this.$messagebox.confirm({confirmCallback:function(){a.$loading.show(),a.$http.deleteApi(t.id).then((function(t){a.$loading.hide(),a.$message.success(),a.project.api_list.splice(e,1)}))}})}}},qt=Nt,Ht=(a("6db2"),Object(d["a"])(qt,Dt,zt,!1,null,"e13de850",null)),Bt=Ht.exports,Ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("div",{staticClass:"top-group"},[a("el-link",{attrs:{type:"default",underline:!1,icon:"el-icon-back"},on:{click:t.onGotoAddApi}},[t._v("返回")]),a("el-button-group",[a("el-button",{attrs:{type:"primary"},on:{click:t.onSave}},[t._v("保存")]),a("el-button",{attrs:{type:"default"},on:{click:t.onGotoAddApi}},[t._v("取消")])],1)],1),a("div",{staticClass:"main-group"},[a("el-form",{ref:"form",attrs:{model:t.form,inline:!0,"label-width":"80px",rules:t.rules}},[a("el-collapse",{staticClass:"collapese-group",model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},[a("el-collapse-item",{attrs:{title:"接口",name:"1"}},[a("el-form-item",{attrs:{label:"接口名",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入请求接口名称"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"请求方法",prop:"http_method"}},[a("el-select",{attrs:{placeholder:"请选择请求方法"},model:{value:t.form.http_method,callback:function(e){t.$set(t.form,"http_method",e)},expression:"form.http_method"}},[a("el-option",{attrs:{label:"GET",value:"GET"}}),a("el-option",{attrs:{label:"POST",value:"POST"}}),a("el-option",{attrs:{label:"DELETE",value:"DELETE"}}),a("el-option",{attrs:{label:"PUT",value:"PUT"}})],1)],1),a("el-form-item",{attrs:{label:"域名",prop:"host_id"}},[a("el-select",{attrs:{placeholder:"请选择域名"},model:{value:t.form.host_id,callback:function(e){t.$set(t.form,"host_id",e)},expression:"form.host_id"}},[t.project?t._l(t.project.host_list,(function(t){return a("el-option",{key:t.name,attrs:{label:t.name,value:t.id}})})):t._e()],2)],1),a("el-form-item",{attrs:{label:"path",prop:"path"}},[a("el-input",{attrs:{placeholder:"请输入url的path"},model:{value:t.form.path,callback:function(e){t.$set(t.form,"path",e)},expression:"form.path"}})],1)],1),a("el-collapse-item",{attrs:{title:"请求头",name:"2"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.form.headers}},[a("el-table-column",{attrs:{prop:"name",label:"key",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-select",{attrs:{placeholder:"head类型",filterable:!0},model:{value:e.row.name,callback:function(a){t.$set(e.row,"name",a)},expression:"scope.row.name"}},t._l(t.headers,(function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})})),1)]}}])}),a("el-table-column",{attrs:{prop:"value",label:"value",width:"600"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{value:e.row.value,placeholder:"请输入内容"},model:{value:e.row.value,callback:function(a){t.$set(e.row,"value",a)},expression:"scope.row.value"}})]}}])}),a("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.form.headers.length>1?a("el-button",{attrs:{icon:"el-icon-delete",type:"danger",size:"mini"},on:{click:function(a){return t.onDeleteHeader(e.$index)}}}):t._e(),e.$index==t.form.headers.length-1?a("el-button",{attrs:{icon:"el-icon-plus",type:"primary",size:"mini"},on:{click:t.onAddHeader}}):t._e()]}}])})],1)],1),a("el-collapse-item",{attrs:{title:"请求参数",name:"3"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.form.data}},[a("el-table-column",{attrs:{prop:"name",label:"参数名",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{value:e.row.name,placeholder:"请输入参数名"},model:{value:e.row.name,callback:function(a){t.$set(e.row,"name","string"===typeof a?a.trim():a)},expression:"scope.row.name"}})]}}])}),a("el-table-column",{attrs:{prop:"value",label:"参数值",width:"600"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{value:e.row.name,placeholder:"请输入参数值"},model:{value:e.row.value,callback:function(a){t.$set(e.row,"value","string"===typeof a?a.trim():a)},expression:"scope.row.value"}})]}}])}),a("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.form.data.length>1?a("el-button",{attrs:{icon:"el-icon-delete",type:"danger",size:"mini"},on:{click:function(a){return t.onDeleteBody(e.$index)}}}):t._e(),e.$index==t.form.data.length-1?a("el-button",{attrs:{icon:"el-icon-plus",type:"primary",size:"mini"},on:{click:t.onAddBody}}):t._e()]}}])})],1)],1),a("el-collapse-item",{attrs:{title:"期望结果",name:"4"}},[a("el-form-item",{attrs:{label:"状态码",prop:"expect_code"}},[a("el-select",{attrs:{placeholder:"请选择状态吗"},model:{value:t.form.expect_code,callback:function(e){t.$set(t.form,"expect_code",e)},expression:"form.expect_code"}},t._l(t.status_codes,(function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1),a("el-form-item",{attrs:{label:"期望内容",prop:"expect_content"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入期望内容",rows:"5",cols:"40"},model:{value:t.form.expect_content,callback:function(e){t.$set(t.form,"expect_content",e)},expression:"form.expect_content"}})],1)],1),a("el-collapse-item",{attrs:{title:"描述",name:"5"}},[a("el-input",{staticClass:"desc_input",attrs:{type:"textarea",placeholder:"请输入描述信息！"},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1)],1)],1)],1)])},Vt=[],Jt={name:"AddApi",props:["project","api"],data:function(){return{form:{name:"",host_id:"",http_method:"",path:"",headers:[{name:"",value:""}],data:[{name:"",value:""}],description:"",expect_code:"",expect_content:""},rules:{name:[{required:!0,trigger:"blur",message:"请输入接口名称！"}],host_id:[{required:!0,trigger:"change",message:"请选择host！"}],http_method:[{required:!0,trigger:"change",message:"请选择http method！"}],path:[{required:!0,trigger:"blur",message:"请输入PATH！"}],expect_code:[{required:!0,trigger:"change",message:"请选择状态码！"}]},activeNames:["1","2","3","4","5"],headers:["Accept","Accept-Charset","Accept-Encoding","Accept-Language","Accept-Ranges","Authorization","Cache-Control","Connection","Cookie","Content-Length","Content-Type","Content-MD5","Date","Expect","From","Host","If-Match","If-Modified-Since","If-None-Match","If-Range","If-Unmodified-Since","Max-Forwards","Origin","Pragma","Proxy-Authorization","Range","Referer","TE","Upgrade","User-Agent","Via"],status_codes:["200","201","202","203","204","301","302","400","401","403","404","405","406","407","408","500","502"]}},components:{},mounted:function(){if(this.api){var t=JSON.parse(this.api.headers),e=JSON.parse(this.api.data),a={id:this.api.id,name:this.api.name,host_id:this.api.host.id,http_method:this.api.http_method,path:this.api.path,headers:t.length>0?t:[{name:"",value:""}],data:e.length>0?e:[{name:"",value:""}],description:this.api.description,expect_code:this.api.expect_code,expect_content:this.api.expect_content};this.form=a}},methods:{onGotoAddApi:function(){this.$emit("page-changed",Rt.API_LIST)},onSave:function(){var t=this;this.$refs["form"].validate((function(e){if(e){var a,n=JSON.parse(JSON.stringify(t.form)),o=[],s=[],i=Object(mt["a"])(n.headers);try{for(i.s();!(a=i.n()).done;){var r=a.value;r.name&&r.value&&o.push(r)}}catch(d){i.e(d)}finally{i.f()}var l,c=Object(mt["a"])(n.data);try{for(c.s();!(l=c.n()).done;){var u=l.value;u.name&&u.value&&s.push(u)}}catch(d){c.e(d)}finally{c.f()}n.headers=JSON.stringify(o),n.data=JSON.stringify(s),n.project_id=t.project.id,t.$loading.show(),t.form.id?t.$http.editApi(t.form.id,n).then((function(e){t.$loading.hide(),t.$message.success();var a,n=e.data,o=0,s=Object(mt["a"])(t.project.api_list);try{for(s.s();!(a=s.n()).done;){var i=a.value;if(i.id==n.id){t.project.api_list[o]=n;break}o++}}catch(d){s.e(d)}finally{s.f()}t.$emit("page-changed",Rt.API_LIST)})):t.$http.addApi(n).then((function(e){t.$loading.hide(),t.$message.success();var a=e.data;t.project.api_list.push(a),t.$emit("page-changed",Rt.API_LIST)}))}}))},onCancel:function(){},onDeleteHeader:function(t){this.form.headers.splice(t,1)},onAddHeader:function(){this.form.headers.push({name:"",value:""})},onDeleteBody:function(t){this.form.data.splice(t,1)},onAddBody:function(){this.form.data.push({name:"",value:""})}}},Mt=Jt,Gt=(a("999d"),a("342d2"),Object(d["a"])(Mt,Ut,Vt,!1,null,"8442d9f8",null)),Wt=Gt.exports,Kt={name:"ApiEntry",props:["project"],data:function(){return{page:Rt.API_LIST,pagetype:Rt,api:null}},components:{AddApi:Wt,ApiList:Bt},methods:{onPageChanged:function(t,e){this.page=t,this.api=e}}},Yt=Kt,Qt=Object(d["a"])(Yt,Lt,Tt,!1,null,"674f2c3e",null),Xt=Qt.exports,Zt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[t.page==t.pagetype.CASE_LIST?a("CaseList",{attrs:{project:t.project},on:{"page-changed":t.onPageChanged}}):t._e(),t.page==t.pagetype.ADD_CASE?a("AddCase",{attrs:{project:t.project,caseobj:t.caseobj},on:{"page-changed":t.onPageChanged}}):t._e()],1)},te=[],ee=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("div",{staticClass:"top-group"},[a("el-link",{attrs:{type:"default",underline:!1,icon:"el-icon-back"},on:{click:t.onGotoCaseList}},[t._v("用例列表")]),a("el-button-group",[a("el-button",{attrs:{type:"primary"},on:{click:t.onSave}},[t._v("保存")]),a("el-button",{attrs:{type:"default"},on:{click:t.onGotoCaseList}},[t._v("取消")])],1)],1),a("el-form",{ref:"form",attrs:{model:t.form,"label-width":"80px",rules:t.rules,inline:!0}},[a("div",{staticClass:"case-name-group",staticStyle:{width:"400px"}},[a("el-form-item",{attrs:{label:"用例名称",prop:"name"}},[a("el-input",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1)],1),a("div",{staticClass:"case-argument-group"},[a("el-form-item",{attrs:{label:"用例参数"}},t._l(t.form.arguments,(function(e,n){return a("div",{key:n,staticClass:"case-argument-input-group"},[a("el-input",{attrs:{placeholder:"请输入参数名称"},model:{value:e.name,callback:function(a){t.$set(e,"name",a)},expression:"argument.name"}}),a("el-input",{attrs:{placeholder:"请输入参数值"},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"argument.value"}}),a("span",{staticClass:"button-group"},[t.form.arguments.length>1?a("el-button",{attrs:{type:"info",icon:"el-icon-delete",size:"mini"},on:{click:function(a){return t.onRemoveCaseArgument(e,n)}}}):t._e(),a("el-button",{attrs:{type:"default",icon:"el-icon-plus",size:"mini"},on:{click:function(a){return t.onAddCaseArgument(e,n)}}})],1)],1)})),0)],1),a("el-timeline",t._l(t.form.api_list,(function(e,n){return a("el-timeline-item",{key:n,attrs:{color:"#0bbd87"}},[a("el-form-item",{attrs:{label:"第"+(n+1)+"步"}},[a("el-select",{attrs:{placeholder:"请选择需要执行的API"},model:{value:e.id,callback:function(a){t.$set(e,"id",a)},expression:"case_api.id"}},t._l(t.project.api_list,(function(t){return a("el-option",{key:t.name+n,attrs:{label:t.name+"("+t.path+")",value:t.id}})})),1),a("span",{staticClass:"button-group"},[t.form.api_list.length>1?a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(a){return t.onRemoveApi(e,n)}}}):t._e(),a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:function(a){return t.onAddApi(e,n)}}})],1)],1),a("el-form-item",{attrs:{label:"提取参数"}},t._l(e.arguments,(function(n,o){return a("div",{key:o,staticClass:"argument-group"},[a("el-input",{staticClass:"argument-input",attrs:{placeholder:"请输入参数名称"},model:{value:n.name,callback:function(e){t.$set(n,"name",e)},expression:"argument.name"}}),a("el-select",{staticClass:"argument-input",attrs:{placeholder:"请选择参数来源"},model:{value:n.origin,callback:function(e){t.$set(n,"origin",e)},expression:"argument.origin"}},[a("el-option",{attrs:{label:"响应体",value:"BODY"}}),a("el-option",{attrs:{label:"响应头",value:"HEADER"}}),a("el-option",{attrs:{label:"响应Cookie",value:"COOKIE"}})],1),a("el-input",{staticClass:"argument-input",attrs:{placeholder:"请输入参数获取格式"},model:{value:n.format,callback:function(e){t.$set(n,"format",e)},expression:"argument.format"}}),a("span",{staticClass:"button-group"},[e.arguments.length>1?a("el-button",{attrs:{type:"info",icon:"el-icon-delete",size:"mini"},on:{click:function(a){return t.onRemoveApiArgument(e,n,o)}}}):t._e(),a("el-button",{attrs:{type:"default",icon:"el-icon-plus",size:"mini"},on:{click:function(a){return t.onAddApiArgument(e)}}})],1)],1)})),0)],1)})),1),a("el-form-item",{attrs:{label:"用例描述"}},[a("el-input",{attrs:{type:"textarea",rows:4,cols:40,placeholder:"请输入描述信息"},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1)],1)],1)},ae=[],ne={CASE_LIST:1,ADD_CASE:2},oe=ne,se={name:"AddCase",props:["project","caseobj"],data:function(){return{form:{name:"",description:"",arguments:[{name:"",value:""}],api_list:[{id:"",index:0,arguments:[{name:"",origin:"",format:""}]}]},rules:{name:[{required:!0,message:"请输入用例名称！",trigger:"blur"}]}}},components:{},mounted:function(){if(this.caseobj){var t=JSON.parse(JSON.stringify(this.caseobj));if(0==t.arguments.length&&(this.form.arguments=[{name:"",value:""}]),0==t.api_list.length)this.form.api_list=[{id:"",index:0,arguments:[{name:"",origin:"",format:""}]}];else{var e,a=Object(mt["a"])(t.api_list);try{for(a.s();!(e=a.n()).done;){var n=e.value;0==n.arguments&&(n.arguments=[{name:"",origin:"",format:""}])}}catch(o){a.e(o)}finally{a.f()}}this.form=t}},methods:{onGotoCaseList:function(){this.$emit("page-changed",oe.CASE_LIST)},onSave:function(){var t=this;this.$refs["form"].validate((function(e){if(e){var a,n=JSON.parse(JSON.stringify(t.form)),o=[],s=Object(mt["a"])(n.arguments);try{for(s.s();!(a=s.n()).done;){var i=a.value;i.name&&i.value&&o.push(i)}}catch(g){s.e(g)}finally{s.f()}n.arguments=o;var r,l=[],c=0,u=Object(mt["a"])(n.api_list);try{for(u.s();!(r=u.n()).done;){var d=r.value;if(d.id){var p,m=[],f=Object(mt["a"])(d.arguments);try{for(f.s();!(p=f.n()).done;){var h=p.value;h.name&&h.origin&&h.format&&m.push(h)}}catch(g){f.e(g)}finally{f.f()}d.arguments=m,d.index=c,l.push(d),c++}}}catch(g){u.e(g)}finally{u.f()}n.api_list=l,n.project_id=t.project.id,t.$loading.show(),t.form.id?t.$http.editCase(t.form.id,n).then((function(e){t.$loading.hide();var a,n=e.data,o=0,s=Object(mt["a"])(t.project.case_list);try{for(s.s();!(a=s.n()).done;){var i=a.value;if(i.id==n.id){t.project.case_list[o]=n;break}o++}}catch(g){s.e(g)}finally{s.f()}t.$emit("page-changed",oe.CASE_LIST),t.$message.success()})):t.$http.addCase(n).then((function(e){t.$loading.hide();var a=e.data;t.project.case_list.push(a),t.$emit("page-changed",oe.CASE_LIST),t.$message.success()}))}}))},onCancel:function(){},onRemoveCaseArgument:function(t,e){this.form.arguments.splice(e,1)},onAddCaseArgument:function(t,e){this.form.arguments.push({name:"",value:""})},onRemoveApi:function(t,e){this.form.api_list.splice(e,1)},onAddApi:function(t,e){this.form.api_list.push({id:"",index:0,arguments:[{name:"",origin:"",format:""}]})},onRemoveApiArgument:function(t,e,a){t.arguments.splice(a,1)},onAddApiArgument:function(t){t.arguments.push({name:"",origin:"",format:""})}}},ie=se,re=(a("8715"),Object(d["a"])(ie,ee,ae,!1,null,"221ac7a3",null)),le=re.exports,ce=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("div",{staticClass:"top-group"},[a("el-button",{attrs:{type:"primary",icon:"el-ico-plus"},on:{click:t.onAddCase}},[t._v("新增用例")])],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.project.case_list}},[a("el-table-column",{attrs:{prop:"name",label:"名称"}}),a("el-table-column",{attrs:{prop:"description",label:"描述"}}),a("el-table-column",{attrs:{label:"创建时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t._f("dateFormat")(e.row.create_time))+" ")]}}])}),a("el-table-column",{attrs:{label:"操作",width:"300"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return t.onRunCase(e.row,e.$index)}}},[t._v("运行")]),a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.onEditCase(e.row,e.$index)}}},[t._v("编辑")]),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){return t.onDeleteCase(e.row,e.$index)}}},[t._v("删除")])]}}])})],1),a("el-dialog",{attrs:{title:"运行结果",visible:t.dialogVisible,width:"80%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-table",{attrs:{data:t.records,height:"500"}},[a("el-table-column",{attrs:{fixed:"",property:"url",label:"url",width:"150"}}),a("el-table-column",{attrs:{property:"http_method",label:"请求方法",width:"100"}}),a("el-table-column",{attrs:{property:"headers",label:"请求头"}}),a("el-table-column",{attrs:{property:"data",label:"请求体"}}),a("el-table-column",{attrs:{property:"return_code",label:"状态码",width:"80"}}),a("el-table-column",{attrs:{property:"return_content",label:"响应体"}}),a("el-table-column",{attrs:{property:"run_result",label:"测试结果",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.run_result?a("el-tag",{attrs:{type:"success"}},[t._v("成功")]):t._e(),0==e.row.run_result?a("el-tag",{attrs:{type:"danger"}},[t._v("失败")]):t._e()]}}])})],1)],1)],1)},ue=[],de={name:"CaseList",props:["project"],data:function(){return{dialogVisible:!1,records:[]}},components:{},methods:{onAddCase:function(){this.$emit("page-changed",oe.ADD_CASE)},onRunCase:function(t,e){var a=this;this.$loading.show(),this.$http.runCase(t.id).then((function(t){a.$loading.hide();var e,n=t.data,o=n.api_records,s=Object(mt["a"])(o);try{for(s.s();!(e=s.n()).done;){var i=e.value;i.return_code==i.api.expect_code?i.run_result=!0:i.run_result=!1}}catch(r){s.e(r)}finally{s.f()}a.records=o,a.dialogVisible=!0}))},onEditCase:function(t,e){this.$emit("page-changed",oe.ADD_CASE,t)},onDeleteCase:function(t,e){var a=this;this.$messagebox.confirm({confirmCallback:function(){a.$loading.show(),a.$http.deleteCase(t.id).then((function(t){a.$loading.hide(),a.$message.success(),a.project.case_list.splice(e,1)}))}})}}},pe=de,me=(a("c368"),Object(d["a"])(pe,ce,ue,!1,null,"02d6dfce",null)),fe=me.exports,he={name:"CaseEntry",props:["project"],data:function(){return{page:oe.CASE_LIST,pagetype:oe,caseobj:null}},components:{AddCase:le,CaseList:fe},methods:{onPageChanged:function(t,e){this.page=t,this.caseobj=e}}},ge=he,ve=Object(d["a"])(ge,Zt,te,!1,null,"550d3b66",null),be=ve.exports,_e=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("el-tabs",{attrs:{type:"border-card"},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"API",name:"1"}},[a("RecordTable",{attrs:{records:t.api_records}})],1),a("el-tab-pane",{attrs:{label:"用例",name:"2"}},[a("el-collapse",t._l(t.case_records,(function(e,n){return a("el-collapse-item",{key:n,staticClass:"case-record-list",attrs:{title:e.case.name}},[a("template",{slot:"title"},[a("div",{staticClass:"case-record-title"},[a("span",{staticStyle:{"margin-right":"24px"}},[t._v("用例名称："+t._s(e.case.name))]),a("span",[t._v("|")]),a("span",{staticStyle:{"margin-left":"24px"}},[t._v("执行用例时间："+t._s(t._f("dateFormat")(e.create_time)))])])]),a("RecordTable",{attrs:{records:e.api_records}})],2)})),1)],1)],1)],1)},ye=[],ke=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.records}},[a("el-table-column",{attrs:{prop:"url",label:"url"}}),a("el-table-column",{attrs:{prop:"http_method",label:"请求方法",width:"100"}}),a("el-table-column",{attrs:{prop:"data",label:"请求参数"}}),a("el-table-column",{attrs:{prop:"return_code",label:"响应状态码",width:"100"}}),a("el-table-column",{attrs:{prop:"return_content",label:"响应体"}}),a("el-table-column",{attrs:{label:"测试状态",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.api.expect_code==e.row.return_code?a("el-tag",{attrs:{type:"success",effect:"dark"}},[t._v("成功")]):a("el-tag",{attrs:{type:"danger",effect:"dark"}},[t._v("失败")])]}}])}),a("el-table-column",{attrs:{label:"执行时间",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t._f("dateFormat")(e.row.create_time))+" ")]}}])})],1)],1)},je=[],xe={name:"RecordTable",props:["records"],data:function(){return{}},components:{}},we=xe,Ce=Object(d["a"])(we,ke,je,!1,null,"2d1a06b0",null),$e=Ce.exports,Se={name:"RecordList",props:["project"],data:function(){return{activeName:"1",api_records:[],case_records:[]}},components:{RecordTable:$e},watch:{project:function(){var t=this;this.project&&this.project.id&&(this.$http.getRunRecords(this.project.id,"api").then((function(e){var a=e.data;t.api_records=a})),this.$http.getRunRecords(this.project.id,"case").then((function(e){var a=e.data;console.log(a),t.case_records=a})))}}},Ae=Se,Oe=Object(d["a"])(Ae,_e,ye,!1,null,"159562d3",null),Ee=Oe.exports,Pe={name:"projectdetail",data:function(){return{activeName:"1",project:{}}},components:(n={},Object(yt["a"])(n,$t.name,$t),Object(yt["a"])(n,"HostList",Ft),Object(yt["a"])(n,"ApiEntry",Xt),Object(yt["a"])(n,"CaseEntry",be),Object(yt["a"])(n,"RecordList",Ee),n),mounted:function(){var t=this,e=this.$route.params.project_id;this.$http.getProjectDetail(e).then((function(e){var a=e.data;t.project=a}))}},Fe=Pe,Le=Object(d["a"])(Fe,bt,_t,!1,null,"719c9e11",null),Te=Le.exports,De=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("h1",{staticStyle:{}},[t._v("个人中心")]),a("div",{staticClass:"form-group"},[a("el-form",{ref:"form",attrs:{model:t.form,"label-width":"80px",rules:t.rules,"label-position":"left"}},[a("el-form-item",{attrs:{label:"头像"}},[a("el-upload",{staticClass:"avatar-upload",attrs:{action:t.upload_action,header:t.headers,"show-file-list":!1,"on-success":t.onUploadSuccess,"before-upload":t.onBeforeUpload}},[t.form.avatar?a("img",{staticClass:"avatar",attrs:{src:t.form.avatar}}):a("i",{staticClass:"el-icon-plus avatar-upload-icon"})])],1),a("el-form-item",{attrs:{label:"用户名",prop:"username"}},[a("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:t.form.username,callback:function(e){t.$set(t.form,"username",e)},expression:"form.username"}})],1),a("el-form-item",{attrs:{label:"手机号码",prop:"telephone"}},[a("el-input",{attrs:{placeholder:"请输入手机号码"},model:{value:t.form.telephone,callback:function(e){t.$set(t.form,"telephone",e)},expression:"form.telephone"}})],1),a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{attrs:{placeholder:"请输入邮箱"},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("提交")]),a("el-button",{attrs:{type:"default"},on:{click:t.onCancel}},[t._v("取消")])],1)],1)],1)])},ze=[],Ie={name:"Settings",data:function(){return{form:{username:"",email:"",telephone:"",avatar:""},rules:{username:[{required:!0,trigger:"blur",message:"请输入用户名！"}],email:[{required:!0,trigger:"blur",message:"请输入email！"}],telephone:[{required:!0,trigger:"blur",message:"请输入手机号码！"}]},upload_action:"http://182.92.84.4:8000/auth/avatar",headers:{Authorization:"JWT "+this.$auth.token}}},components:{},mounted:function(){var t={username:this.$auth.user.username,telephone:this.$auth.user.telephone,email:this.$auth.user.email,avatar:this.$auth.user.avatar};this.form=t},methods:{onUploadSuccess:function(t,e){this.form.avatar=t.pictrue},onBeforeUpload:function(t){var e="image/jpeg"===t.type,a=t.size/1024/1024<2;return e||this.$message.error("上传头像图片只能是 JPG 格式!"),a||this.$message.error("上传头像图片大小不能超过 2MB!"),e&&a},onSubmit:function(){var t=this;this.$refs["form"].validate((function(e){e&&(t.$loading.show(),t.$http.editUser(t.form).then((function(e){var a=e.data;t.$auth.setUser(a),t.$loading.hide(),t.$message.success()})))}))},onCancel:function(){}}},Re=Ie,Ne=(a("00c8"),a("f20a"),Object(d["a"])(Re,De,ze,!1,null,"b1867f76",null)),qe=Ne.exports,He=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.user_list}},[a("el-table-column",{attrs:{prop:"username",label:"用户名"}}),a("el-table-column",{attrs:{prop:"telephone",label:"手机号"}}),a("el-table-column",{attrs:{prop:"email",label:"邮箱"}}),a("el-table-column",{attrs:{prop:"date_joined",label:"加入时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t._f("dateFormat")(e.row.date_joined))+" ")]}}])}),a("el-table-column",{attrs:{prop:"is_active",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.is_active?a("el-tag",{attrs:{type:"success"}},[t._v("可用")]):t._e(),0==e.row.is_active?a("el-tag",{attrs:{type:"danger"}},[t._v("冻结")]):t._e()]}}])}),a("el-table-column",{attrs:{label:"操作"}},[a("el-button",{attrs:{type:"danger",size:"mini"}},[t._v("禁用")])],1)],1)],1)},Be=[],Ue={name:"MemberList",data:function(){return{user_list:[]}},components:{},mounted:function(){var t=this;this.$http.getUserList().then((function(e){t.user_list=e.data}))}},Ve=Ue,Je=Object(d["a"])(Ve,He,Be,!1,null,"0582b822",null),Me=Je.exports,Ge=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-lx-emoji"}),t._v(" 自定义图标")])],1)],1),a("div",{staticClass:"container"},[a("h2",[t._v("使用方法")]),a("p",{staticStyle:{"line-height":"50px"}},[t._v(" 直接通过设置类名为 el-icon-lx-iconName 来使用即可。例如：（共"+t._s(t.iconList.length)+"个图标） ")]),t._m(0),t._m(1),t._m(2),a("br"),a("h2",[t._v("图标")]),a("div",{staticClass:"search-box"},[a("el-input",{staticClass:"search",attrs:{size:"large",clearable:"",placeholder:"请输入图标名称"},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}})],1),a("ul",t._l(t.list,(function(e,n){return a("li",{key:n,staticClass:"icon-li"},[a("div",{staticClass:"icon-li-content"},[a("i",{class:"el-icon-lx-"+e}),a("span",[t._v(t._s(e))])])])})),0)])])},We=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"example-p"},[a("i",{staticClass:"el-icon-lx-redpacket_fill",staticStyle:{"font-size":"30px",color:"#ff5900"}}),a("span",[t._v('<i class="el-icon-lx-redpacket_fill"></i>')])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"example-p"},[a("i",{staticClass:"el-icon-lx-weibo",staticStyle:{"font-size":"30px",color:"#fd5656"}}),a("span",[t._v('<i class="el-icon-lx-weibo"></i>')])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"example-p"},[a("i",{staticClass:"el-icon-lx-emojifill",staticStyle:{"font-size":"30px",color:"#ffc300"}}),a("span",[t._v('<i class="el-icon-lx-emojifill"></i>')])])}],Ke=(a("c975"),{name:"Icon",data:function(){return{keyword:"",iconList:["attentionforbid","attentionforbidfill","attention","attentionfill","tag","tagfill","people","peoplefill","notice","noticefill","mobile","mobilefill","voice","voicefill","unlock","lock","home","homefill","delete","deletefill","notification","notificationfill","notificationforbidfill","like","likefill","comment","commentfill","camera","camerafill","warn","warnfill","time","timefill","location","locationfill","favor","favorfill","skin","skinfill","news","newsfill","record","recordfill","emoji","emojifill","message","messagefill","goods","goodsfill","crown","crownfill","move","add","hot","hotfill","service","servicefill","present","presentfill","pic","picfill","rank","rankfill","male","female","down","top","recharge","rechargefill","forward","forwardfill","info","infofill","redpacket","redpacket_fill","roundadd","roundaddfill","friendadd","friendaddfill","cart","cartfill","more","moreandroid","back","right","shop","shopfill","question","questionfill","roundclose","roundclosefill","roundcheck","roundcheckfill","global","mail","punch","exit","upload","read","file","link","full","group","friend","profile","addressbook","calendar","text","copy","share","wifi","vipcard","weibo","remind","refresh","filter","settings","scan","qrcode","cascades","apps","sort","searchlist","search","edit"]}},computed:{list:function(){var t=this;return this.iconList.filter((function(e){return-1!==e.indexOf(t.keyword)}))}}}),Ye=Ke,Qe=(a("862e"),Object(d["a"])(Ye,Ge,We,!1,null,"7e008652",null)),Xe=Qe.exports;i["default"].use(C["a"]);var Ze=new C["a"]({routes:[{path:"/",redirect:"/index"},{path:"/",component:Q,meta:{title:"自述文件"},children:[{path:"/index",component:ut,name:"index",meta:{title:"系统首页"}},{path:"/icon",component:Xe,meta:{title:"自定义图标"}},{path:"project",component:vt,name:"project_list",meta:{title:"项目列表"}},{path:"project/:project_id",component:Te,name:"project_detail",meta:{title:"项目详情"}},{path:"settings",component:qe,name:"settings",meta:{title:"个人中心"}},{path:"members",component:Me,name:"members",meta:{title:"成员管理"}},{path:"/table",component:function(){return a.e("table").then(a.bind(null,"7b70"))},meta:{title:"基础表格"}},{path:"/404",component:function(){return a.e("404").then(a.bind(null,"e1f8"))},meta:{title:"404"}}]},{path:"/login",component:nt,name:"login"},{path:"*",redirect:"/404"}]});Ze.beforeEach((function(t,e,a){"login"==t.name||k.is_authed?a():a({name:"login"})}));var ta=Ze,ea=(a("0fb7"),a("450d"),a("f529")),aa=a.n(ea),na=function(){function t(){Object(f["a"])(this,t),this.config={showClose:!0,duration:2e3}}return Object(h["a"])(t,[{key:"show",value:function(){aa()(JSON.parse(JSON.stringify(this.config)))}},{key:"success",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"恭喜！操作成功！";this.config.type="success",this.config.message=t,this.show()}},{key:"info",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.config.type="info",this.config.message=t,this.show()}},{key:"warning",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.config.type="warning",this.config.message=t,this.show()}},{key:"error",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.config.type="error",this.config.message=t,this.show()}}]),t}(),oa=new na,sa=oa,ia=(a("25f0"),a("4d90"),{dateFormat:function(t,e){function a(t){return t.toString().padStart(2,"0")}t=new Date(t);var n=t.getFullYear(),o=a(t.getMonth()+1),s=a(t.getDate()),i=a(t.getHours()),r=a(t.getSeconds()),l=a(t.getMinutes());return e&&e.toLowerCase("yyyy-mm-dd")?"".concat(n,"-").concat(o,"-").concat(s):"".concat(n,"-").concat(o,"-").concat(s," ").concat(i,":").concat(l,":").concat(r)}}),ra=ia,la=(a("9e1f"),a("6ed5")),ca=a.n(la),ua=function(){function t(){Object(f["a"])(this,t)}return Object(h["a"])(t,[{key:"confirm",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.message||"您确定要执行此操作吗？",a=t.confirmCallback||null,n=t.cancelCallback||null,o=t.type||"warning";ca.a.confirm(e,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:o}).then((function(){a&&a()})).catch((function(){n&&n()}))}}]),t}(),da=new ua,pa=(a("be4f"),a("896a")),ma=a.n(pa),fa=function(){function t(){Object(f["a"])(this,t)}return Object(h["a"])(t,[{key:"show",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.loading=ma.a.service({fullscreen:!0,background:"rgba(0, 0, 0, 0.7)",spinner:"el-icon-loading",text:t||"正在加载中..."})}},{key:"hide",value:function(){this.loading&&this.loading.close()}}]),t}(),ha=new fa,ga=a("98c9"),va=a("313e"),ba=a.n(va);a("d8b2");i["default"].use(ga["a"]),i["default"].config.productionTip=!1,i["default"].use(s.a),i["default"].prototype.$auth=k,i["default"].prototype.$http=w,i["default"].prototype.$message=sa,i["default"].prototype.$projectdetail=Te,i["default"].prototype.$messagebox=da,i["default"].prototype.$loading=ha,i["default"].prototype.$echarts=ba.a,Object.keys(ra).forEach((function(t){i["default"].filter(t,ra[t])})),new i["default"]({render:function(t){return t(m)},router:ta}).$mount("#app")},"5a6b":function(t,e,a){},"5c0b":function(t,e,a){"use strict";var n=a("9c0c"),o=a.n(n);o.a},"6db2":function(t,e,a){"use strict";var n=a("2b35"),o=a.n(n);o.a},"762a":function(t,e,a){},"862e":function(t,e,a){"use strict";var n=a("c6dd"),o=a.n(n);o.a},8715:function(t,e,a){"use strict";var n=a("d1f6"),o=a.n(n);o.a},9416:function(t,e,a){},"999d":function(t,e,a){"use strict";var n=a("5a6b"),o=a.n(n);o.a},"9a37":function(t,e,a){t.exports=a.p+"static/img/img.146655c9.jpg"},"9c0c":function(t,e,a){},a034:function(t,e,a){"use strict";var n=a("762a"),o=a.n(n);o.a},b044:function(t,e,a){},bbfa:function(t,e,a){"use strict";var n=a("d969"),o=a.n(n);o.a},c368:function(t,e,a){"use strict";var n=a("4a80"),o=a.n(n);o.a},c5f3:function(t,e,a){"use strict";var n=a("2087"),o=a.n(n);o.a},c6dd:function(t,e,a){},c9c5:function(t,e,a){"use strict";var n=a("b044"),o=a.n(n);o.a},d1f6:function(t,e,a){},d969:function(t,e,a){},e485:function(t,e,a){"use strict";var n=a("3968"),o=a.n(n);o.a},f066:function(t,e,a){},f20a:function(t,e,a){"use strict";var n=a("501e"),o=a.n(n);o.a}});
//# sourceMappingURL=app.96295305.js.map